import{_ as u,f as l,g as a,m as d,l as i,F as m,j as h}from"./index-adc39c24.js";const _={name:"ImageUploader",data(){return{images:[],fileList:[],isMultipleSupported:!0,showTip:!1}},created(){this.checkMultipleSupport()},methods:{checkMultipleSupport(){const e=document.createElement("input");e.type="file",this.isMultipleSupported=e.multiple!==void 0,this.showTip=!this.isMultipleSupported},handleFileUpload(e){const t=Array.from(e.target.files);t.length&&(t.forEach(n=>{const o=new FileReader;o.onload=s=>{this.images.push(s.target.result)},o.readAsDataURL(n)}),this.fileList.push(...t),this.$emit("upload",this.fileList),e.target.value=null)},removeImage(e){this.images.splice(e,1),this.fileList.splice(e,1),this.$emit("upload",this.fileList)}}},g={class:"image-uploader"},f={key:0,class:"tip"},v={class:"upload-label"},k=["multiple"],w={key:1,class:"image-preview"},y={class:"preview-container"},M=["src"],I=["onClick"];function L(e,t,n,o,s,p){return l(),a("div",g,[s.showTip?(l(),a("p",f," 提示：部分浏览器仅支持单张上传，可多次点击“选择图片”按钮上传多张。 ")):d("",!0),i("label",v,[i("input",{type:"file",multiple:s.isMultipleSupported,onChange:t[0]||(t[0]=(...r)=>p.handleFileUpload&&p.handleFileUpload(...r)),accept:"image/*",hidden:""},null,40,k),t[1]||(t[1]=i("span",{class:"upload-btn"},"选择图片",-1))]),s.images.length?(l(),a("div",w,[i("div",y,[(l(!0),a(m,null,h(s.images,(r,c)=>(l(),a("div",{key:c,class:"preview-item"},[i("img",{src:r,class:"preview-image"},null,8,M),i("span",{class:"remove-btn",onClick:U=>p.removeImage(c)},"×",8,I)]))),128))])])):d("",!0)])}const F=u(_,[["render",L],["__scopeId","data-v-7aaf032e"]]);export{F as I};
