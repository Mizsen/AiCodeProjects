import{_ as N,r as _,k as q,o as E,c as y,g as l,b as o,w as n,l as R,e as V,m as D,F as h,h as A,i as C,j as F,f as p,n as r,t as s}from"./index-DSosqFsP.js";const H={class:"jobs-layout"},L={class:"jobs-list-panel"},T={class:"jobs-search-bar"},$={class:"job-title"},z={class:"job-info"},I={key:0,class:"loading"},O={key:1,class:"no-more"},G={class:"jobs-detail-panel"},K={class:"job-detail-row"},P={class:"job-detail-row"},Q={class:"job-detail-row"},W={class:"job-detail-row"},X={class:"job-detail-row"},Z={class:"job-detail-row"},ee={class:"job-detail-row"},le={class:"job-detail-row"},te=["href"],ae={class:"job-detail-row"},oe={key:1,class:"job-detail-empty"},x=10,se={__name:"Jobs",setup(ne){const g=_([]),k=_(0),f=_(!1),v=_(!1),d=_(null),a=q({title:"",city:"",company:"",description:"",query_type:"",startDate:"",endDate:""}),M=_(null),j=_(!1),w=async(b=!1)=>{var e;if(!(f.value||v.value)){f.value=!0;try{const i={page:k.value,size:x};Object.keys(a).forEach(c=>{a[c]!==void 0&&a[c]!==null&&a[c]!==""&&(i[c]=a[c])});const u=await F.getJobs(i),m=((e=u.data)==null?void 0:e.content)||[];b?(g.value=m,v.value=u.data.last||m.length<x):(g.value=g.value.concat(m),(u.data.last||m.length<x)&&(v.value=!0)),f.value=!1}catch{f.value=!1,v.value=!0}}},U=()=>{k.value=0,v.value=!1,w(!0)},J=b=>{const e=b.target;e.scrollTop+e.clientHeight>=e.scrollHeight-10&&!f.value&&!v.value&&(k.value++,w())},B=b=>{d.value=b};return E(()=>{w(!0)}),(b,e)=>{const i=V("el-input"),u=V("el-form-item"),m=V("el-date-picker"),c=V("el-button"),S=V("el-form"),Y=V("el-card");return p(),y("div",H,[l("div",L,[l("div",T,[o(S,{inline:!0,model:a,onSubmit:R(U,["prevent"])},{default:n(()=>[j.value?(p(),y(h,{key:0},[o(u,{label:"岗位名称"},{default:n(()=>[o(i,{modelValue:a.title,"onUpdate:modelValue":e[0]||(e[0]=t=>a.title=t),placeholder:"岗位名称",clearable:""},null,8,["modelValue"])]),_:1}),o(u,{label:"岗位类型"},{default:n(()=>[o(i,{modelValue:a.query_type,"onUpdate:modelValue":e[1]||(e[1]=t=>a.query_type=t),placeholder:"岗位类型",clearable:""},null,8,["modelValue"])]),_:1}),o(u,{label:"开始日期"},{default:n(()=>[o(m,{modelValue:a.startDate,"onUpdate:modelValue":e[2]||(e[2]=t=>a.startDate=t),type:"date",placeholder:"开始日期","value-format":"YYYY-MM-DD",clearable:""},null,8,["modelValue"])]),_:1}),o(u,{label:"结束日期"},{default:n(()=>[o(m,{modelValue:a.endDate,"onUpdate:modelValue":e[3]||(e[3]=t=>a.endDate=t),type:"date",placeholder:"结束日期","value-format":"YYYY-MM-DD",clearable:""},null,8,["modelValue"])]),_:1}),o(u,{label:"城市"},{default:n(()=>[o(i,{modelValue:a.city,"onUpdate:modelValue":e[4]||(e[4]=t=>a.city=t),placeholder:"城市",clearable:""},null,8,["modelValue"])]),_:1}),o(u,{label:"公司"},{default:n(()=>[o(i,{modelValue:a.company,"onUpdate:modelValue":e[5]||(e[5]=t=>a.company=t),placeholder:"公司名称",clearable:""},null,8,["modelValue"])]),_:1}),o(u,{label:"描述"},{default:n(()=>[o(i,{modelValue:a.description,"onUpdate:modelValue":e[6]||(e[6]=t=>a.description=t),placeholder:"岗位描述",clearable:""},null,8,["modelValue"])]),_:1})],64)):D("",!0),o(u,null,{default:n(()=>[o(c,{type:"primary",onClick:U},{default:n(()=>e[8]||(e[8]=[r("查询",-1)])),_:1,__:[8]}),o(c,{type:"text",onClick:e[7]||(e[7]=t=>j.value=!j.value),style:{"margin-left":"8px"}},{default:n(()=>[r(s(j.value?"收起筛选":"展开筛选"),1)]),_:1})]),_:1})]),_:1},8,["model"])]),l("div",{class:"jobs-list",ref_key:"listRef",ref:M,onScroll:J},[(p(!0),y(h,null,A(g.value,t=>(p(),C(Y,{key:t.id,class:"job-card",onClick:de=>B(t)},{default:n(()=>[l("div",$,s(t.title),1),l("div",z,[l("span",null,s(t.location),1),l("span",null,s(t.salary),1),l("span",null,s(t.experience),1),l("span",null,s(t.education),1),l("span",null,s(t.company),1)])]),_:2},1032,["onClick"]))),128)),f.value?(p(),y("div",I,"加载中...")):D("",!0),v.value?(p(),y("div",O,"没有更多数据")):D("",!0)],544)]),l("div",G,[d.value?(p(),C(Y,{key:0,class:"job-detail-card"},{default:n(()=>[l("div",K,[e[9]||(e[9]=l("strong",null,"岗位名称：",-1)),r(s(d.value.title),1)]),l("div",P,[e[10]||(e[10]=l("strong",null,"岗位公司：",-1)),r(s(d.value.company),1)]),l("div",Q,[e[11]||(e[11]=l("strong",null,"岗位地点：",-1)),r(s(d.value.location),1)]),l("div",W,[e[12]||(e[12]=l("strong",null,"岗位薪资：",-1)),r(s(d.value.salary),1)]),l("div",X,[e[13]||(e[13]=l("strong",null,"岗位经验：",-1)),r(s(d.value.experience),1)]),l("div",Z,[e[14]||(e[14]=l("strong",null,"岗位学历：",-1)),r(s(d.value.education),1)]),l("div",ee,[e[15]||(e[15]=l("strong",null,"岗位描述：",-1)),r(s(d.value.description),1)]),l("div",le,[e[16]||(e[16]=l("strong",null,"岗位URL：",-1)),l("a",{href:d.value.url,target:"_blank"},s(d.value.url),9,te)]),l("div",ae,[e[17]||(e[17]=l("strong",null,"生成时间：",-1)),r(s(d.value.createdAt),1)])]),_:1})):(p(),y("div",oe,"请选择左侧岗位查看详情"))])])}}},re=N(se,[["__scopeId","data-v-76af1cbd"]]);export{re as default};
